{
    "title": "Deploying backend on Cloud using Systemd",
    "created": 1564681448,
    "updated": 1564838283,
    "author": "Anjan Roy",
    "email": "anjanroy@yandex.com",
    "content": [
        "Well this is my very first blog post, so I'm pretty excited <big>&#x1f600</big>",
        "<br><br>",
        "In this article we're going to talk about something pretty simple, <strong>How to deploy backend on Cloud using systemd ?</strong>",
        "As backend we're going to consider this website, which is my personal website & also fully <big>O</big>pen source, running on <big>L</big>inux.",
        "<br><br>",
        "Source Code : <a href='https://github.com/itzmeanjan/itzmeanjan.in' class='simpleLink' target='_blank'>here</a>",
        "<br><br>",
        "Though this website's backend is made of <big>N</big>odeJS & <big>E</big>xpressJS,",
        "you may consider building your own instance using <big>G</big>o/ <big>P</big>ython/ <big>R</big>uby on Rails/ <big>D</big>art or something else.",
        "And as cloud provider I'm choosing <big>A</big>WS <big>L</big>ightSail, which has got pretty straight forward set up guideline(s).",
        "Feel free to use your favourite one.",
        "<br><br>",
        "You may have already understood, I'm interested in using <big>S</big>ystemd service",
        "for keeping backend up & running even after I logout of system.",
        "This use case may be more appropriate where we can log into Virtual Private Server ( <big>V</big>PS ) instance, running on Cloud, using <big>S</big>SH client, ",
        " install program(s)/ application(s) as per our need & <big>A</big>WS <big>L</big>ightSail is something like that. Generally we'll be allocated with two IP addresses, ",
        "<br><br>",
        "i > Private IP Address",
        "<br>",
        "ii > Public IP Address",
        "<br><br>",
        "So your backend will be visible to <big>I</big>nternet via <big>2</big><sup>nd</sup> one. If",
        " you're interested in attaching a domain name with your Public IP address, you can manage so using <big>D</big>NS Zone(s). ",
        "<br><br>",
        "Time to deploy backend ...",
        "<br><br>",
        "Talking about putting codebase on VPS, you can simply run,",
        "<div class='codeBlock'>",
        "$ git clone https://github.com/itzmeanjan/itzmeanjan.in.git",
        "</div>",
        "after logging into VPS console via <big>S</big>SH <small>( make sure you update <big>U</big>RL in previous command )</small>.",
        "I'm assuming you've already installed all required dependencies, on VPS OS.",
        "If not, please be kind enough to do so.",
        "<br><br>",
        "If you've cloned <a href='https://github.com/itzmeanjan/itzmeanjan.in' class='simpleLink' target='_blank'>this</a> repository,",
        "you may have found a directory named, <small>./systemd</small>,",
        "which holds some <small>systemd.service</small> files, which are required to be edited before deployment.",
        "Otherwise you've to write your own <small>systemd.service</small> files.",
        "<br><br>",
        "In <small>systemd.service</small> file, there'll be generally 3 sections.",
        "<br><br>",
        "i > Unit",
        "<br>",
        "ii > Service",
        "<br>",
        "iii > Install",
        "<br><br>",
        "<big>U</big>nit section holds <small>description</small> & <small>dependency</small> of service, which is written as follows",
        "<div class='codeBlock'>",
        "[Unit]",
        "<br>",
        "Description=Backend keeper service",
        "</div>",
        "If we had to run our service in periodic fashion or at a certain instance of time in near future,",
        "we had to write one <small>systemd.timer</small> file <small>( which is to be done pretty soon )</small>",
        "& add that one as <small>Wants</small> dependency of this Unit file.",
        "<br><br>",
        "Lets add <big>S</big>ervice declaration, to our <small>systemd.service</small> file.",
        "<br>",
        "<div class='codeBlock'>",
        "$ echo $USER",
        "</div>",
        "Running above in your VPS console, will give you content of <big>U</big>ser field",
        "<div class='codeBlock'>",
        "User=itzmeanjan",
        "<br>",
        "WorkingDirectory=current-working-directory",
        "<br>",
        "ExecStart=/usr/bin/node path_to_index.js",
        "<br>",
        "Restart=always",
        "</div>",
        ""
    ]
}